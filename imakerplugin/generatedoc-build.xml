<!--****************************************************************************
 * Configuration tool main build file
 * This ant build.xml will compile all Configuration tool plugins
 ****************************************************************************-->
 
<project name="ConfigurationTool generatedoc" default="generatedoc">
	<!-- import common properties for this plugin -->
	<property file="common.properties"/>
	<property file="install.properties"/>
  <property file="build.properties"/>
    
  <target name="init-generatedoc" depends="get-svnversion">
      <mkdir dir="${common.documents}"/>
  </target>

  <target name="generatedoc" depends="doxygen"/>
    
  <target name="update-doxyfile">
		<delete file="$Doxyfile"/>
		<copy file="Doxyfile.template" tofile="Doxyfile"/>
		<echo file="Doxyfile" append="yes">
		# -------------------------------------------------------------------------
		# generated by ant
		PROJECT_NAME           = ${ant.project.name}
		PROJECT_NUMBER         = ${common.version}-${common.svnversion}
		OUTPUT_DIRECTORY       = "${common.documents}\doxygen"
		</echo>
  </target>
  
  <target name="doxygen" depends="init-generatedoc,update-doxyfile">
    <exec executable="doxygen" dir=".">
	  </exec>
  </target>

  <target name="javadoc" depends="init-generatedoc">
	  <javadoc linksource="yes" destdir="${common.documents}/javadoc">
	    <sourcefiles>
        <fileset dir=".">
        	<include name="**/src/**/*.java"/>
        </fileset>
      </sourcefiles>
      <classpath>
        <pathelement location="lib/*.jar"/>
      </classpath>
	  </javadoc>
  </target>
  	
</project>
     
     
     